<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Hola Live | Elite Edition</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=Montserrat:wght@900&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #05070f; --panel: #0d1224; --accent: #7df9ff; --gold: #ffcf40; --danger: #ff3344; }
        body { margin: 0; font-family: 'Inter', sans-serif; background: var(--bg); color: #eaf6ff; display: flex; height: 100vh; overflow: hidden; }
        
        .sidebar { width: 240px; background: var(--panel); border-right: 1px solid rgba(255,255,255,0.1); display: flex; flex-direction: column; padding: 20px; z-index: 100; }
        .brand { font-family: 'Montserrat'; font-size: 24px; font-weight: 900; margin-bottom: 40px; background: linear-gradient(90deg, var(--accent), #7000ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .nav-item { padding: 14px; border-radius: 12px; cursor: pointer; transition: 0.3s; display: flex; align-items: center; gap: 12px; color: #8a99ad; margin-bottom: 6px; font-weight: 600; }
        .nav-item.active { background: var(--accent); color: #000; }

        .main { flex: 1; display: flex; flex-direction: column; position: relative; }
        header { height: 70px; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: space-between; padding: 0 25px; }
        .token-info { background: rgba(125, 249, 255, 0.1); padding: 8px 16px; border-radius: 20px; color: var(--accent); font-weight: 800; }

        /* Global Gift Banner (–ë—É—Å–∞–¥ ”©—Ä”©”©–Ω–¥ —Ö–∞—Ä–∞–≥–¥–∞—Ö) */
        #globalBanner {
            position: absolute; top: 15px; left: 50%; transform: translateX(-50%);
            background: rgba(0,0,0,0.85); border: 2px solid var(--gold);
            padding: 8px 25px; border-radius: 50px; z-index: 1000;
            display: none; white-space: nowrap; animation: slideDown 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            box-shadow: 0 0 30px rgba(255, 207, 64, 0.4);
        }
        @keyframes slideDown { from { top: -100px; } to { top: 15px; } }

        /* Fireworks Overlay */
        #fireworksOverlay { position: fixed; inset: 0; pointer-events: none; z-index: 9999; }
        .firework { position: absolute; width: 5px; height: 5px; border-radius: 50%; animation: explode 1s ease-out forwards; }
        @keyframes explode {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(30); opacity: 0; }
        }

        iframe { flex: 1; border: none; width: 100%; }
    </style>
</head>
<body>

    <aside class="sidebar">
        <div class="brand">HOLA LIVE</div>
        <div class="nav-item active" onclick="loadPage('pages/home.html', this)">üè† <span>–ù“Ø“Ø—Ä</span></div>
        <div class="nav-item" onclick="loadPage('pages/vip.html', this)">üëë <span>VIP ”®—Ä”©”©</span></div>
        <div class="nav-item" onclick="loadPage('pages/store.html', this)">üíé <span>–î—ç–ª–≥“Ø“Ø—Ä</span></div>
        <div class="nav-item" onclick="loadPage('pages/profile.html', this)">üë§ <span>–ü—Ä–æ—Ñ–∞–π–ª</span></div>
    </aside>

    <div class="main">
        <div id="globalBanner"></div>
        <header>
            <h3 id="pageTitle" style="margin:0;">–ù“Ø“Ø—Ä —Ö—É—É–¥–∞—Å</h3>
            <div class="token-info">üíé <span id="balance">0</span></div>
        </header>
        <iframe id="contentFrame" src="pages/home.html"></iframe>
    </div>

    <div id="fireworksOverlay"></div>

    <script>
        function loadPage(url, el) {
            document.getElementById('contentFrame').src = url;
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            el.classList.add('active');
            document.getElementById('pageTitle').innerText = el.querySelector('span').innerText;
        }

        // Global Event Listener
        window.addEventListener('message', function(event) {
            if (event.data.type === 'GIFT_SENT') {
                showGlobalBanner(event.data);
                if(event.data.price >= 500) triggerFireworks();
            }
        });

        function showGlobalBanner(data) {
            const banner = document.getElementById('globalBanner');
            banner.innerHTML = `üî• <b style="color:var(--gold)">${data.user}</b> <span style="color:white">–Ω—å</span> <b style="color:var(--accent)">${data.streamer}</b>-–¥ <span style="font-size:20px">${data.icon}</span> ${data.giftName} <b style="color:var(--gold)">–ò–õ–ì–≠–≠–õ–≠–≠!</b>`;
            banner.style.display = 'block';
            setTimeout(() => banner.style.display = 'none', 5000);
        }

        function triggerFireworks() {
            const container = document.getElementById('fireworksOverlay');
            for(let i=0; i<15; i++) {
                setTimeout(() => {
                    const f = document.createElement('div');
                    f.className = 'firework';
                    f.style.left = Math.random() * 100 + 'vw';
                    f.style.top = Math.random() * 100 + 'vh';
                    f.style.backgroundColor = `hsl(${Math.random() * 360}, 100%, 50%)`;
                    container.appendChild(f);
                    setTimeout(() => f.remove(), 1000);
                }, i * 150);
            }
        }

        setInterval(() => {
            const wallet = localStorage.getItem('hola_wallet') || "1500";
            document.getElementById('balance').innerText = parseInt(wallet).toLocaleString();
        }, 1000);
    </script>
</body>
</html>
