<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --danger: #ff3344; --accent: #7df9ff; }
        body { margin: 0; font-family: 'Inter', sans-serif; background: #05070f; color: #fff; padding: 25px; }
        
        .dashboard { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
        .card { background: #0d1224; border-radius: 20px; padding: 25px; border: 1px solid rgba(255,255,255,0.05); }
        
        .btn { padding: 15px 25px; border-radius: 12px; border: none; font-weight: 800; cursor: pointer; transition: 0.3s; }
        .btn-primary { background: var(--accent); color: #000; }
        .btn-danger { background: var(--danger); color: #fff; }
        
        .stat-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 25px; }
        .stat-card { background: rgba(255,255,255,0.03); padding: 15px; border-radius: 15px; text-align: center; }
    </style>
</head>
<body>

    <h1 style="font-family:'Montserrat'; letter-spacing:-1px;">Streamer Studio</h1>

    <div class="dashboard">
        <div class="card">
            <h3>–õ–∞–π–≤ –£–¥–∏—Ä–¥–∞—Ö</h3>
            <div class="stat-grid">
                <div class="stat-card"><div style="font-size:20px; color:var(--accent);">2.4k</div>“Æ–∑—ç–≥—á–∏–¥</div>
                <div class="stat-card"><div style="font-size:20px; color:var(--gold);">15.2k</div>–ù–∏–π—Ç –¢–æ–∫–µ–Ω</div>
                <div class="stat-card"><div style="font-size:20px; color:#00ff00;">1:24:05</div>–•—É–≥–∞—Ü–∞–∞</div>
            </div>
            
            <div style="display:flex; gap:15px;">
                <button class="btn btn-danger">üî¥ –õ–ê–ô–í –ó–û–ì–°–û–û–•</button>
                <button class="btn btn-primary" onclick="spawnLuckyBox()">üéÅ LUCKY BOX –¢–ê–í–ò–• (50üíé)</button>
            </div>
        </div>

        <div class="card">
            <h3>–°“Ø“Ø–ª–∏–π–Ω –±—ç–ª—ç–≥–Ω“Ø“Ø–¥</h3>
            <div id="giftLog" style="font-size: 13px; opacity: 0.8;">
                <div>–ó–æ—Ä–∏–≥–æ–æ: üåπ –°–∞—Ä–Ω–∞–π –∏–ª–≥—ç—ç–ª—ç—ç</div>
            </div>
        </div>
    </div>

    <script src="../js/eventBus.js"></script>
    <script src="../js/economyEngine.js"></script>
    <script>
        function spawnLuckyBox() {
            // –°—Ç—Ä–∏–º–µ—Ä—ç—ç—Å 50 —Ç–æ–∫–µ–Ω —Ö–∞—Å–∞–∂ —Ö–∞–π—Ä—Ü–∞–≥ —Ç–∞–≤–∏–Ω–∞
            const success = EconomyEngine.updateWallet(-50);
            if(success) {
                EventBus.emit('SPAWN_BOX', {});
                alert("üéÅ Lucky Box –∞–º–∂–∏–ª—Ç—Ç–∞–π —Ç–∞–≤–∏–≥–¥–ª–∞–∞!");
            } else {
                alert("–¢–æ–∫–µ–Ω —Ö“Ø—Ä—ç–ª—Ü—ç—Ö–≥“Ø–π –±–∞–π–Ω–∞!");
            }
        }

        // –ë—ç–ª—ç–≥ –∏—Ä—ç—Ö–∏–π–≥ —Å–æ–Ω—Å–æ—Ö
        EventBus.listen((data) => {
            if(data.type === 'GIFT_SENT') {
                const log = document.getElementById('giftLog');
                log.innerHTML = `<div><b>${data.user}:</b> ${data.icon} ${data.giftName} –∏–ª–≥—ç—ç–ª—ç—ç!</div>` + log.innerHTML;
            }
        });
    </script>
</body>
</html>
