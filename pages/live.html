<!DOCTYPE html>
<html lang="mn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #05070f; --accent: #7df9ff; --gold: #ffcf40; }
        body { margin: 0; font-family: 'Inter', sans-serif; background: #000; color: #fff; height: 100vh; display: flex; }
        
        .video-player { flex: 1; position: relative; background: #000; overflow: hidden; }
        
        /* Gift Animation Layer */
        #giftEffectArea { position: absolute; inset: 0; pointer-events: none; z-index: 5; }
        .dragon-anim { position: absolute; bottom: 0; width: 100%; height: 100%; background: url('https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNHJ6bXN4NnV3eG4xbXN4Z3R4NnV3eG4xbXN4Z3R4NnV3eG4mbXA9ZW0vZW1fbmF0aXZlL2dpZl9h/3o7TKMGpxN32WJ9m5G/giphy.gif') center no-repeat; background-size: contain; animation: dragonFlight 4s forwards; }
        @keyframes dragonFlight { from { transform: translateX(-100%) scale(0.5); } to { transform: translateX(100%) scale(1.5); } }

        /* Chat & Gift Menu */
        .sidebar { width: 320px; background: rgba(13, 18, 36, 0.95); display: flex; flex-direction: column; border-left: 1px solid rgba(255,255,255,0.1); }
        .chat-box { flex: 1; padding: 15px; overflow-y: auto; font-size: 13px; }
        
        .gift-menu { height: 180px; background: #1a1f35; padding: 10px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; border-top: 2px solid var(--accent); }
        .gift-item { background: rgba(255,255,255,0.05); border-radius: 10px; padding: 8px; text-align: center; cursor: pointer; transition: 0.2s; border: 1px solid transparent; }
        .gift-item:hover { border-color: var(--accent); background: rgba(125, 249, 255, 0.1); }
        .gift-icon { font-size: 24px; display: block; }
        .gift-price { font-size: 10px; font-weight: 800; color: var(--gold); }
    </style>
</head>
<body>

    <div class="video-player">
        <div id="giftEffectArea"></div>
        <div style="position:absolute; top:20px; left:20px; background:rgba(0,0,0,0.5); padding:10px; border-radius:10px;">üé• LIVE: Zorigoo_Gamer</div>
    </div>

    <aside class="sidebar">
        <div class="chat-box" id="chat"><b>System:</b> ”®—Ä”©”©–Ω–¥ —Ç–∞–≤—Ç–∞–π –º–æ—Ä–∏–ª!</div>
        
        <div class="gift-menu">
            <div class="gift-item" onclick="sendGift('–°–∞—Ä–Ω–∞–π', 'üåπ', 10)">
                <span class="gift-icon">üåπ</span> <span class="gift-price">10üíé</span>
            </div>
            <div class="gift-item" onclick="sendGift('–ü—É—É–∂–∏–Ω', 'üöÄ', 500)">
                <span class="gift-icon">üöÄ</span> <span class="gift-price">500üíé</span>
            </div>
            <div class="gift-item" onclick="sendGift('–õ–£–£', 'üêâ', 2000)">
                <span class="gift-icon">üêâ</span> <span class="gift-price">2000üíé</span>
            </div>
        </div>
    </aside>

    <script>
        function sendGift(name, icon, price) {
            let wallet = parseInt(localStorage.getItem('hola_wallet')) || 0;
            if(wallet < price) return alert("–¢–æ–∫–µ–Ω —Ö“Ø—Ä—ç–ª—Ü—ç—Ö–≥“Ø–π –±–∞–π–Ω–∞!");

            localStorage.setItem('hola_wallet', wallet - price);
            
            // 1. ”®—Ä”©”©–Ω–∏–π —ç—Ñ—Ñ–µ–∫—Ç
            playEffect(name);

            // 2. Global Notification (–ë—É—Å–∞–¥ –±“Ø—Ö ”©—Ä”©”©–Ω–¥ —Ö–∞—Ä–∞–≥–¥–∞–Ω–∞)
            window.parent.postMessage({
                type: 'GIFT_SENT',
                user: '–ë–∏',
                streamer: 'Zorigoo_Gamer',
                giftName: name,
                icon: icon,
                price: price
            }, '*');
        }

        function playEffect(name) {
            const area = document.getElementById('giftEffectArea');
            const div = document.createElement('div');
            
            if(name === '–õ–£–£') {
                div.className = 'dragon-anim';
                area.appendChild(div);
                setTimeout(() => div.remove(), 4000);
            } else if (name === '–ü—É—É–∂–∏–Ω') {
                div.innerHTML = `<h1 style="position:absolute; bottom:0; left:50%; transform:translateX(-50%); font-size:100px; animation: rocketUp 2s forwards;">üöÄ</h1>`;
                area.appendChild(div);
                setTimeout(() => div.remove(), 2000);
            }
        }
    </script>
    
    <style>
        @keyframes rocketUp { from { bottom: -100px; } to { bottom: 120%; } }
    </style>
</body>
</html>
